const f=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}};f();const a=.55;class y{constructor(){this.reset()}reset(){this.create()}get top_pillar(){return parseFloat(getComputedStyle(document.getElementById("pillar_top")).getPropertyValue("--ht"))}get pass(){return parseFloat(getComputedStyle(document.getElementById("pass")).getPropertyValue("--ht"))}set top_pillar(e){document.getElementById("pillar_top").style.setProperty("--ht",e)}set pass(e){document.getElementById("pass").style.setProperty("--ht",e)}create(){const e=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div");e.id="pillar_top",l.id="pass",o.id="pillar_bottom",document.getElementById("app").append(e),document.getElementById("app").append(l),document.getElementById("app").append(o),this.top_pillar=Math.round(Math.random()*(60-15)+15),this.pass=Math.round(Math.random()*(22-13)+13),l.style.top=`${this.top_pillar}%`,o.style.height=`${100-this.top_pillar-this.pass}%`,o.style.top=this.top_pillar+this.pass}get top_x(){return parseFloat(getComputedStyle(document.getElementById("pillar_top")).getPropertyValue("--x"))}set top_x(e){document.getElementById("pillar_top").style.setProperty("--x",e)}get pass_x(){return parseFloat(getComputedStyle(document.getElementById("pass")).getPropertyValue("--x"))}set pass_x(e){document.getElementById("pass").style.setProperty("--x",e)}get bottom_x(){return parseFloat(getComputedStyle(document.getElementById("pillar_bottom")).getPropertyValue("--x"))}set bottom_x(e){document.getElementById("pillar_bottom").style.setProperty("--x",e)}progress(){this.bottom_x+=a,this.top_x+=a,this.pass_x+=a,this.bottom_x>=320&&(document.getElementById("pillar_bottom").remove(),document.getElementById("pillar_top").remove(),document.getElementById("pass").remove(),this.create())}}class g{constructor(){this.key=!1,this.lost=!1,this.reset(),this.in=!1,this.out=!0}reset(){this.score=0,this.create()}create(){const e=document.createElement("div");e.id="bird",document.getElementById("app").append(e)}get bird(){return parseFloat(getComputedStyle(document.getElementById("bird")).getPropertyValue("--top"))}set bird(e){document.getElementById("bird").style.setProperty("--top",e)}fly(){const e=document.getElementById("bird").getBoundingClientRect(),l=document.getElementById("app").getBoundingClientRect(),o=document.getElementById("pillar_top").getBoundingClientRect(),t=document.getElementById("pillar_bottom").getBoundingClientRect();this.bird+=1,e.left<=document.getElementById("pass").getBoundingClientRect().right?(this.in=!0,this.out=!1):this.out=!0,this.out&&this.in&&(this.in=!1,this.score++,document.querySelector(".score").textContent=this.score),(e.bottom>=l.bottom||i(e,o)||i(e,t))&&(this.lost=!0)}keyboard(){const e=document.getElementById("bird").getBoundingClientRect(),l=document.getElementById("app").getBoundingClientRect(),o=document.getElementById("pillar_top").getBoundingClientRect(),t=document.getElementById("pillar_bottom").getBoundingClientRect();e.top>=l.top&&(this.bird-=4),e.left<=document.getElementById("pass").getBoundingClientRect().right?(this.in=!0,this.out=!1):this.out=!0,this.out&&this.in&&(this.in=!1,this.score++,document.querySelector(".score").textContent=this.score),(e.bottom>=l.bottom||i(e,o)||i(e,t))&&(this.lost=!0)}}function i(n,e){return n.right>=e.left&&n.left<=e.right&&n.top<=e.bottom&&n.bottom>=e.top}let s,m,d=!1;document.addEventListener("keydown",n=>{d=!1,n.key==="ArrowUp"&&(d=!0)});s=new g;m=new y;let p=!0,c;function h(){p?c=setTimeout(()=>{if(s.lost){clearTimeout(c),document.querySelector(".dialouge").style.display="grid",document.querySelector("#start").textContent="Retry";return}else p=!1}):m.progress(),d?(setTimeout(()=>{d=!1},50),s.keyboard()):s.fly(),s.lost?(document.querySelector(".dialouge").style.display="grid",document.querySelector("#start").textContent="Retry"):window.requestAnimationFrame(h)}document.getElementById("start").onclick=B;function B(){clearTimeout(c),document.querySelector(".score").textContent=0,document.querySelector(".dialouge").style.display="none",s.lost&&(document.getElementById("bird").remove(),document.getElementById("pillar_top").remove(),document.getElementById("pass").remove(),document.getElementById("pillar_bottom").remove(),s=new g,m=new y,p=!0),window.requestAnimationFrame(h)}
